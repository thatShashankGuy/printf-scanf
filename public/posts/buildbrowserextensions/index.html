<!doctype html>





































<html
  class="not-ready lg:text-base"
  style="--bg: "
  lang="en-us"
>
  <head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1, shrink-to-fit=no"
  />

  
  <title>Build Custom Browser Extensions with Javascript - Printf/Scanf</title>

  
  <meta name="theme-color" />

  
  
  
  
  <meta name="description" content="In this quick article, we will learn how to build a browser extension to manipulate some website behavior for your personal use.
What is a Browser Extension? A browser extension is essentially a small software program that adds custom functionality to your web browser. Extensions can help you take notes, manage passwords, block ads, and more.
They can be installed in most modern browsers like Chrome, Firefox, Edge, etc. Often, an extension can be downloaded and installed from a web store, like the Chrome Web Store." />
  <meta name="author" content="Shashank Shekhar" />
  

  
  
  
  
  
  
  <link rel="preload stylesheet" as="style" href="https://printf-scanf.pages.dev/main.min.css" />

  
  
  
  
  
  <link rel="preload" as="image" href="https://printf-scanf.pages.dev/theme.png" />

  
  
  
  
  

  
  
  <link rel="preload" as="image" href="https://printf-scanf.pages.dev/github.svg" />
  
  <link rel="preload" as="image" href="https://printf-scanf.pages.dev/linkedin.svg" />
  
  <link rel="preload" as="image" href="https://printf-scanf.pages.dev/rss.svg" />
  
  

  
  
  <script
    defer
    src="https://printf-scanf.pages.dev/highlight.min.js"
    onload="hljs.initHighlightingOnLoad();"
  ></script>
  

  
  
  

  
  <link rel="icon" href="https://printf-scanf.pages.dev/fav.png" />
  <link rel="apple-touch-icon" href="https://printf-scanf.pages.dev/apple-touch-icon.png" />

  
  <meta name="generator" content="Hugo 0.126.1">

  
  
  
  
  


  
  
  <meta itemprop="name" content="Build Custom Browser Extensions with Javascript">
  <meta itemprop="description" content="In this quick article, we will learn how to build a browser extension to manipulate some website behavior for your personal use.
What is a Browser Extension? A browser extension is essentially a small software program that adds custom functionality to your web browser. Extensions can help you take notes, manage passwords, block ads, and more.
They can be installed in most modern browsers like Chrome, Firefox, Edge, etc. Often, an extension can be downloaded and installed from a web store, like the Chrome Web Store.">
  <meta itemprop="datePublished" content="2024-09-23T00:00:00+00:00">
  <meta itemprop="dateModified" content="2024-09-23T00:00:00+00:00">
  <meta itemprop="wordCount" content="805">
  
  <meta property="og:url" content="https://printf-scanf.pages.dev/posts/buildbrowserextensions/">
  <meta property="og:site_name" content="Printf/Scanf">
  <meta property="og:title" content="Build Custom Browser Extensions with Javascript">
  <meta property="og:description" content="In this quick article, we will learn how to build a browser extension to manipulate some website behavior for your personal use.
What is a Browser Extension? A browser extension is essentially a small software program that adds custom functionality to your web browser. Extensions can help you take notes, manage passwords, block ads, and more.
They can be installed in most modern browsers like Chrome, Firefox, Edge, etc. Often, an extension can be downloaded and installed from a web store, like the Chrome Web Store.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-09-23T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-09-23T00:00:00+00:00">

  
  
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Build Custom Browser Extensions with Javascript">
  <meta name="twitter:description" content="In this quick article, we will learn how to build a browser extension to manipulate some website behavior for your personal use.
What is a Browser Extension? A browser extension is essentially a small software program that adds custom functionality to your web browser. Extensions can help you take notes, manage passwords, block ads, and more.
They can be installed in most modern browsers like Chrome, Firefox, Edge, etc. Often, an extension can be downloaded and installed from a web store, like the Chrome Web Store.">

  
  
  
  <link rel="canonical" href="https://printf-scanf.pages.dev/posts/buildbrowserextensions/" />
  
  
</head>

  <body class="text-black duration-200 ease-out dark:text-white">
    <header class="mx-auto flex h-[4.5rem] max-w-3xl px-8 lg:justify-center">
  <div class="relative z-50 mr-auto flex items-center">
    <a
      class="-translate-x-[1px] -translate-y-[1px] text-2xl font-semibold"
      href="https://printf-scanf.pages.dev/"
      >Printf/Scanf</a
    >
    <div
      class="btn-dark text-[0] ml-4 h-6 w-6 shrink-0 cursor-pointer [background:url(./theme.png)_left_center/_auto_theme('spacing.6')_no-repeat] [transition:_background-position_0.4s_steps(5)] dark:[background-position:right]"
      role="button"
      aria-label="Dark"
    ></div>
  </div>

  <div
    class="btn-menu relative z-50 -mr-8 flex h-[4.5rem] w-[5rem] shrink-0 cursor-pointer flex-col items-center justify-center gap-2.5 lg:hidden"
    role="button"
    aria-label="Menu"
  ></div>

  

  <script>
    
    const htmlClass = document.documentElement.classList;
    setTimeout(() => {
      htmlClass.remove('not-ready');
    }, 10);

    
    const btnMenu = document.querySelector('.btn-menu');
    btnMenu.addEventListener('click', () => {
      htmlClass.toggle('open');
    });

    
    const metaTheme = document.querySelector('meta[name="theme-color"]');
    const lightBg = ''.replace(/"/g, '');
    const setDark = (isDark) => {
      metaTheme.setAttribute('content', isDark ? '#000' : lightBg);
      htmlClass[isDark ? 'add' : 'remove']('dark');
      localStorage.setItem('dark', isDark);
    };

    
    const darkScheme = window.matchMedia('(prefers-color-scheme: dark)');
    if (htmlClass.contains('dark')) {
      setDark(true);
    } else {
      const darkVal = localStorage.getItem('dark');
      setDark(darkVal ? darkVal === 'true' : darkScheme.matches);
    }

    
    darkScheme.addEventListener('change', (event) => {
      setDark(event.matches);
    });

    
    const btnDark = document.querySelector('.btn-dark');
    btnDark.addEventListener('click', () => {
      setDark(localStorage.getItem('dark') !== 'true');
    });
  </script>

  <div
    class="nav-wrapper fixed inset-x-0 top-full z-40 flex h-full select-none flex-col justify-center pb-16 duration-200 dark:bg-black lg:static lg:h-auto lg:flex-row lg:!bg-transparent lg:pb-0 lg:transition-none"
  >
    
    
    <nav class="lg:ml-12 lg:flex lg:flex-row lg:items-center lg:space-x-6">
      
      <a
        class="block text-center text-2xl leading-[5rem] lg:text-base lg:font-normal"
        href="/about/"
        >About Me</a
      >
      
      <a
        class="block text-center text-2xl leading-[5rem] lg:text-base lg:font-normal"
        href="/notice_board/"
        >Notice</a
      >
      
    </nav>
    

    
    <nav
      class="mt-12 flex justify-center space-x-10 dark:invert lg:ml-12 lg:mt-0 lg:items-center lg:space-x-6"
    >
      
      <a
        class="h-8 w-8 text-[0] [background:var(--url)_center_center/cover_no-repeat] lg:h-6 lg:w-6"
        style="--url: url(./github.svg)"
        href="https://github.com/thatShashankGuy/"
        target="_blank"
        rel="me"
      >
        github
      </a>
      
      <a
        class="h-8 w-8 text-[0] [background:var(--url)_center_center/cover_no-repeat] lg:h-6 lg:w-6"
        style="--url: url(./linkedin.svg)"
        href="https://linkedin.com/in/thatshashanguy/"
        target="_blank"
        rel="me"
      >
        linkedin
      </a>
      
      <a
        class="h-8 w-8 text-[0] [background:var(--url)_center_center/cover_no-repeat] lg:h-6 lg:w-6"
        style="--url: url(./rss.svg)"
        href="https://printf-scanf.pages.dev/index.xml"
        target="_blank"
        rel="alternate"
      >
        rss
      </a>
      
    </nav>
    
  </div>
</header>


    <main
      class="prose prose-neutral relative mx-auto min-h-[calc(100%-9rem)] max-w-3xl px-8 pb-16 pt-12 dark:prose-invert"
    >
      

<article>
  <header class="mb-16">
    <h1 class="!my-0 pb-2.5">Build Custom Browser Extensions with Javascript</h1>

    
    <div class="text-sm antialiased opacity-60">
      
      <time>Sep 23, 2024</time>
      
      
      
      
      <span class="mx-1">&middot;</span>
      <span>Shashank Shekhar</span>
      
    </div>
    
  </header>

  <section><p><img src="/firefox-plugin.png" alt="firefox-plugin"></p>
<p>In this quick article, we will learn how to build a browser extension to manipulate some website behavior for your personal use.</p>
<h3 id="what-is-a-browser-extension">What is a Browser Extension?</h3>
<p>A browser extension is essentially a small software program that adds custom functionality to your web browser. Extensions can help you take notes, manage passwords, block ads, and more.</p>
<p>They can be installed in most modern browsers like Chrome, Firefox, Edge, etc. Often, an extension can be downloaded and installed from a web store, like the <a href="https://chromewebstore.google.com/category/extensions">Chrome Web Store</a>.</p>
<p>While extensions can provide useful functionality, they also pose security risks since they execute JavaScript on your browser. Therefore, it&rsquo;s a good practice to only install extensions from reputable sources, as recommended by most web browsers.</p>
<h3 id="building-our-own-extension">Building Our Own Extension</h3>
<p>While downloading unknown code can be risky, building your own extension for small utilities is actually very simple!</p>
<p>In this demonstration, I’ll show you how to build an extension I created that hides the comments section on YouTube.</p>
<h3 id="hiding-youtube-comments">Hiding YouTube Comments</h3>
<p>For our demonstration, we will use YouTube. When you visit YouTube, the site delivers HTML, CSS, and JavaScript to your browser to display and interact with content.</p>
<p>Our extension will inject custom JavaScript to hide the entire comment section on YouTube. While the code works on all major web browsers, we will use Firefox for this demonstration.</p>
<h3 id="creating-the-extension">Creating the Extension</h3>
<p>To create a web extension, you need two files:</p>
<ul>
<li><code>manifest.json</code></li>
<li><code>content.js</code></li>
</ul>
<p>The <code>content.js</code> file contains the code that will run in the browser, while <code>manifest.json</code> is the configuration file that defines the extension’s settings, permissions, name, and description. You can think of <code>manifest.json</code> as similar to a <code>package.json</code> in a Node.js project.</p>
<p>Here is the code for our extension. You can also find all the demo code for this exercise at <a href="https://github.com/thatShashankGuy/code-examples/tree/master/firefox-extension">this GitHub repository</a>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#75715e">// Hide the comments section
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">hideComments</span> <span style="color:#f92672">=</span> () =&gt; {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">commentsSection</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">getElementById</span>(<span style="color:#e6db74">&#39;comments&#39;</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">commentsSection</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">commentsSection</span>.<span style="color:#a6e22e">style</span>.<span style="color:#a6e22e">display</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;none&#39;</span>;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>document.<span style="color:#a6e22e">addEventListener</span>(<span style="color:#e6db74">&#39;DOMContentLoaded&#39;</span>, <span style="color:#a6e22e">hideComments</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">observer</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">MutationObserver</span>(<span style="color:#a6e22e">hideComments</span>);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">observer</span>.<span style="color:#a6e22e">observe</span>(document.<span style="color:#a6e22e">body</span>, { <span style="color:#a6e22e">childList</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span>, <span style="color:#a6e22e">subtree</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span> });
</span></span></code></pre></div><p>Let’s break down the <code>content.js</code> script:</p>
<ol>
<li>
<p><strong><code>hideComments</code> Function</strong>:
This function selects the element with the ID <code>comments</code> and sets its display style to <code>none</code>, effectively hiding the comments section on YouTube. You can verify this by inspecting the YouTube page, where the comments section is wrapped in a <code>div</code> with the ID <code>comments</code>.</p>
<p><img src="/youtub-with-comment.png" alt="youtub-with-comment"></p>
</li>
<li>
<p><strong><code>MutationObserver</code></strong>:
The <code>MutationObserver</code> interface allows you to watch for changes in the DOM (Document Object Model). We use this to ensure that if the DOM changes (e.g., YouTube loads comments dynamically), the <code>hideComments</code> function will be called to hide the comment section again.</p>
<ul>
<li>
<p><strong><code>hideComments</code> as a Callback</strong>:
This function is passed as a callback, which will be executed when mutations (like adding or removing child elements) are detected in the <code>document.body</code>.</p>
</li>
<li>
<p><strong><code>observer.observe</code></strong>:
This starts the observer, monitoring the entire body of the HTML page for changes. The options <code>{ childList: true, subtree: true }</code> tell the observer to:</p>
<ul>
<li><code>childList: true</code>: Listen for direct changes in the list of child elements within <code>document.body</code>.</li>
<li><code>subtree: true</code>: Listen for changes throughout the entire DOM tree, not just immediate children.</li>
</ul>
</li>
</ul>
</li>
</ol>
<hr>
<p>Now, let&rsquo;s take a look at the <code>manifest.json</code> file.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;manifest_version&#34;</span>: <span style="color:#ae81ff">3</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;name&#34;</span>: <span style="color:#e6db74">&#34;YouTube Comments Hider&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;version&#34;</span>: <span style="color:#e6db74">&#34;1.0&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;description&#34;</span>: <span style="color:#e6db74">&#34;Hides comments section on YouTube.&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;content_scripts&#34;</span>: [
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;matches&#34;</span>: [<span style="color:#e6db74">&#34;*://www.youtube.com/*&#34;</span>],
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;js&#34;</span>: [<span style="color:#e6db74">&#34;content.js&#34;</span>]
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  ],
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;permissions&#34;</span>: [<span style="color:#e6db74">&#34;activeTab&#34;</span>]
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Lets discuss &ldquo;manifest.json&rdquo; now.</p>
<ul>
<li><strong><code>manifest_version</code></strong>: Specifies the version of the manifest format (in this case, version 3).</li>
<li><strong><code>name</code></strong>: The name of the extension, which will appear in the browser’s extension manager.</li>
<li><strong><code>version</code></strong>: The version of the extension. Here, it is set to &ldquo;1.0&rdquo;.</li>
<li><strong><code>description</code></strong>: A brief description of what the extension does.</li>
<li><strong><code>content_scripts</code></strong>: Defines which scripts will be injected into web pages. Here, the script <code>content.js</code> will be injected into any page on YouTube.
<ul>
<li><strong><code>matches</code></strong>: Specifies the URLs where the content script should be injected. The <code>&quot;*://www.youtube.com/*&quot;</code> pattern means the script will run on all YouTube pages (both HTTP and HTTPS).</li>
<li><strong><code>js</code></strong>: Lists the JavaScript file(s) to inject.</li>
</ul>
</li>
<li><strong><code>permissions</code></strong>: The <code>&quot;activeTab&quot;</code> permission allows the extension to access the content of the active tab temporarily.</li>
</ul>
<h3 id="loading-the-extension-in-firefox">Loading the Extension in Firefox</h3>
<p>To load this extension into Firefox, follow these steps:</p>
<ol>
<li>
<p>Open Firefox and go to the <strong>about:debugging</strong> page by typing <code>about:debugging</code> into the address bar.</p>
</li>
<li>
<p>Click on <strong>&ldquo;This Firefox&rdquo;</strong> from the left-hand menu.</p>
</li>
<li>
<p>Click <strong>&ldquo;Load Temporary Add-on&rdquo;</strong>.</p>
</li>
<li>
<p>Select any file in your extension&rsquo;s directory (e.g., <code>manifest.json</code>). Firefox will automatically detect and load the entire extension.</p>
<p><img src="/fire-fox-addon.png" alt="fire-fox-addon"></p>
</li>
</ol>
<p>The extension will now be installed temporarily. It will remain installed until you restart Firefox.</p>
<h3 id="testing-the-extension">Testing the Extension</h3>
<p>Once installed, go to YouTube, open any video, and navigate to the comments section to see the effects of the extension.</p>
<p><img src="/youtub-without-comment.png" alt="youtub-without-comment"></p>
<h3 id="conclusion">Conclusion</h3>
<p>I hope this helps you understand how browser extensions work and how you can create your own. Stay tuned for more posts in the coming weeks. Happy coding!
!</p>
</section>

  
  

  
  
  
  
  <nav class="mt-24 flex rounded-lg bg-black/[3%] text-lg dark:bg-white/[8%]">
    
    
    <a
      class="ml-auto flex w-1/2 items-center justify-end rounded-r-md p-6 pl-3 font-semibold no-underline hover:bg-black/[2%] dark:hover:bg-white/[3%]"
      href="https://printf-scanf.pages.dev/posts/storefm2/"
      ><span>Building Web APIs in Go - StoreFM#2</span><span class="ml-1.5">→</span></a
    >
    
  </nav>
  
  

  
  

  
  

  


  
</article>


    </main>

    <footer
  class="opaco mx-auto flex h-[4.5rem] max-w-3xl items-center px-8 text-[0.9em] opacity-60"
>
  <div class="mr-auto">
    &copy; 2024
    <a class="link" href="https://printf-scanf.pages.dev/">Printf/Scanf</a>
  </div>
  <a class="link mx-6" href="https://gohugo.io/" rel="noopener" target="_blank"
    >Powered by Hugo️️</a
  >️
  <a
    class="link"
    href="https://github.com/nanxiaobei/hugo-paper"
    rel="noopener"
    target="_blank"
    >✎ Paper</a
  >
</footer>

  </body>
</html>
