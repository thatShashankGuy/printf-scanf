{{ define "main" }}
  {{ partial "profile.html" . }}

  <section class="post-feed">
    {{ $pages := .Site.RegularPages }}
    {{ $paginator := .Paginate ($pages) }}
    {{ range $paginator.Pages }}
      <article class="post-card">
        <div class="post-meta">
          <time datetime="{{ .PublishDate }}">{{ i18n "publishDateFull" . }}</time>
          {{ with .Params.tags }}
            <ul class="tag-list">
              {{ range first 3 . }}
                <li><a href="{{ "tags/" | absURL }}{{ . | urlize }}">#{{ . }}</a></li>
              {{ end }}
            </ul>
          {{ end }}
        </div>
        <h2 class="post-title"><a href="{{ .RelPermalink }}">{{ .Title }}</a></h2>
        {{ if ne .Site.Params.hiddenPostSummaryInHomePage true }}
          <p class="post-summary">{{ .Summary | plainify | htmlUnescape }}</p>
        {{ end }}
        <a class="post-link" href="{{ .RelPermalink }}">Read article →</a>
      </article>
    {{ end }}

    {{ if or ($paginator.HasPrev) ($paginator.HasNext) }}
      <nav class="pagination" aria-label="Pagination">
        {{ if $paginator.HasPrev }}
          <a class="pager prev" href="{{ $paginator.Prev.URL }}">← {{ with .Site.Params.newerPosts }}{{ . }}{{ else }}{{ i18n "postsNewer" }}{{ end }}</a>
        {{ end }}
        {{ if $paginator.HasNext }}
          <a class="pager next" href="{{ $paginator.Next.URL }}">{{ with .Site.Params.olderPosts }}{{ . }}{{ else }}{{ i18n "postsOlder" }}{{ end }} →</a>
        {{ end }}
      </nav>
    {{ end }}
  </section>
{{ end }}
