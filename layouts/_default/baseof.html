<!DOCTYPE html>
<html lang="{{ $.Site.LanguageCode | default "en" }}" data-theme="dark">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width,minimum-scale=1" />
    <script>
      (function () {
        var defaultTheme = 'dark';

        try {
          var stored = localStorage.getItem('theme-preference');
          var theme = stored === 'light' || stored === 'dark' ? stored : defaultTheme;
          document.documentElement.dataset.theme = theme;
        } catch (err) {
          document.documentElement.dataset.theme = defaultTheme;
        }
      })();
    </script>
    {{ partial "head.html" . }}
    <title>{{ block "title" . }}{{ with .Params.Title }}{{ . }} | {{ end }}{{ .Site.Title }}{{ end }}</title>
  </head>
  <body class="site-body">
    <div class="site-wrapper">
      {{ partial "navigation.html" . }}
      <main class="site-main" role="main">
        {{ block "main" . }}{{ end }}
      </main>
      {{ partial "footer.html" . }}
    </div>
    <script src="{{ "/js/theme-toggle.js" | relURL }}" defer></script>
  </body>
</html>
